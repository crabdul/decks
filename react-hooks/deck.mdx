import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";

export const theme = vsDark;


---

Hooks üî™

---

What is a hook?

A function that lets you "hook into" React features

useState is Hook that lets you add React state to function components

---
<CodeSurfer>

```jsx file=./src/formInput.1.1.jsx subtitle="A component that keeps track of a form's values in state"
```

```diff 6:9
```

```diff 16:24
```

```diff 10:15
```

```diff 29:36
```

```diff
```

```jsx subtitle="Let's turn this into a functional component using hooks" file=./src/formInput.1.2.jsx
```

```jsx file=./src/formInput.1.3.jsx subtitle="Substitute constructor with useState"
```

```jsx file=./src/formInput.1.5.jsx subtitle="Convert class methods to functions and call the hook update function"
```

</CodeSurfer>

---

<CodeSurferColumns>

<Step>

```jsx title="Class" file=./src/formInput.2.1.1.jsx
```

```jsx title="Function" file=./src/formInput.2.1.2.jsx
```

</Step>

</CodeSurferColumns>

---

<CodeSurfer>

```jsx title="Function" file=./src/formInput.3.1.jsx subtitle="Create a custom hook"
```

```jsx title="Function" file=./src/formInput.3.2.jsx subtitle="Extract hook functionality into a function"
```

```jsx title="Function" file=./src/formInput.3.3.jsx
```

```jsx title="Function" file=./src/formInput.3.4.jsx subtitle="Each call to a Hook has a completely isolated state - you can call the same custom Hook twice in a component"
```

</CodeSurfer>


---

What exactly custom hooks useful for?

Reusing stateful logic

---

What makes custom hook?

a function that calls other hooks

---

Rules of hooks üìè

---

Only call Hooks at the top level of your react function

- Don't call Hooks inside loops, conditions, or nested functions

Why?

- Hooks must always be called in the same order each time a component renders

---

Custom hooks names should start with 'use'

Make it obvious that a function contains stateful logic

---

Enforcing these rules

```bash
npm install eslint-plugin-react-hooks --save-dev
```

---

```js
// Your ESLint configuration
{
  "plugins": [
    // ...
    "react-hooks"
  ],
  "rules": {
    // ...
    "react-hooks/rules-of-hooks": "error"
  }
}
```

---

<CodeSurferColumns>

<Step>

```jsx title="Class" file=./src/formInput.4.1.1.jsx
```

```jsx title="Function" file=./src/formInput.4.1.2.jsx
```

</Step>

</CodeSurferColumns>

---

Form for fetching pubic repositories for a github user

---

<CodeSurfer>

```jsx file=./src/fetch.1.2.jsx subtitle="Encapsulating data fetching and associated state in a custom hook"
```

```diff 37 subtitle="A custom hook doesn't need to have a specific signature. It can take any arguments and return any values"
```

```diff 3:7
```

```diff 8:31
```

```diff 33
```

```diff 37:38,45:47
```

```diff 37,40:42
```

```diff 37,48:54
```

</CodeSurfer>
